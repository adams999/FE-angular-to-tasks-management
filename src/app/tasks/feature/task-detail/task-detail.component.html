<section class="px-5 py-10 md:px-20 bg-white h-full">
  <h2 class="text-center font-bold">
    {{ idTask ? 'Detalles de la Tarea' : 'Crea una nueva tarea' }}
  </h2>

  <section>
    <ng-container *ngIf="!loading; else loadingTemplate">
      <form [formGroup]="taskForm" (ngSubmit)="saveTask()">
        <div
          class="items-center grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
          <mat-form-field appearance="outline">
            <mat-label>Nombre de Tarea</mat-label>
            <input
              matInput
              placeholder="Nombre de Tarea"
              formControlName="nameTask"
              autocomplete="false" />
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Descripcion de Tarea</mat-label>
            <textarea
              matInput
              rows="7"
              placeholder="Descripcion de Tarea"
              formControlName="descriptionTask"
              autocomplete="false"></textarea>
          </mat-form-field>
          <mat-checkbox class="example-margin" formControlName="statusTask"
            >Tarea Resuelta!</mat-checkbox
          >
        </div>

        <section
          class="text-center py-4 flex gap-6 justify-center items-center">
          <button
            [routerLink]="['/']"
            mat-fab
            color="accent"
            matTooltip="Ir Atras"
            type="button">
            <i class="fa-solid fa-arrow-left"></i>
          </button>
          <button
            mat-fab
            color="primary"
            matTooltip="Guardar"
            type="submit"
            [disabled]="!taskForm.valid">
            <i class="fa-solid fa-save"></i>
          </button>
          <button
            *ngIf="idTask"
            mat-fab
            color="warn"
            matTooltip="Borrar Tarea"
            type="button"
            (click)="confirmDeleteTask()">
            <i class="fa-solid fa-trash"></i>
          </button>
        </section>
      </form>
    </ng-container>
  </section>

  <ng-template #loadingTemplate>
    <div
      class="w-full h-[calc(100%-50px)] flex justify-center items-center py-5">
      <app-loading></app-loading>
    </div>
  </ng-template>
</section>
